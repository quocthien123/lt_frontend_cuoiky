{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 190, "column": 0}, "map": {"version":3,"sources":["file:///D:/1ky-1-nam-4/frontend_backend_news/src/app/api/bongdaplus/route.ts"],"sourcesContent":["// src/app/api/bongdaplus/route.ts\r\nimport { NextRequest } from 'next/server';\r\nimport * as cheerio from 'cheerio';\r\nimport { scrapeNews } from './news';\r\nimport { scrapeUpcomingMatches } from './schedule';\r\n\r\nexport async function GET(request: NextRequest) {\r\n  try {\r\n    const res = await fetch('https://bongdaplus.vn', {\r\n      headers: { 'User-Agent': 'Mozilla/5.0 (compatible; BongDaPlus Scraper)' },\r\n    });\r\n\r\n    if (!res.ok) throw new Error(`Fetch failed: ${res.status}`);\r\n\r\n    const $ = cheerio.load(await res.text());\r\n\r\n    // Lấy từng loại dữ liệu\r\n    const news = scrapeNews($);\r\n    const upcomingMatches = scrapeUpcomingMatches($);\r\n\r\n    return Response.json(\r\n      {\r\n        success: true,\r\n        data: {\r\n          news,\r\n          upcomingMatches,\r\n          // Thêm các phần khác sau này: standings, results, videos...\r\n        },\r\n      },\r\n      { headers: { 'Cache-Control': 's-maxage=600' } }\r\n    );\r\n  } catch (error) {\r\n    return Response.json(\r\n      {\r\n        success: false,\r\n        error: (error as Error).message,\r\n      },\r\n      { status: 500 }\r\n    );\r\n  }\r\n}"],"names":[],"mappings":"AAAA,kCAAkC;;;;;AAElC;AAAA;;;;;;;;;;;;;;AAIO,eAAe,IAAI,OAAoB;IAC5C,IAAI;QACF,MAAM,MAAM,MAAM,MAAM,yBAAyB;YAC/C,SAAS;gBAAE,cAAc;YAA+C;QAC1E;QAEA,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM,CAAC,cAAc,EAAE,IAAI,MAAM,EAAE;QAE1D,MAAM,IAAI,iKAAY,CAAC,MAAM,IAAI,IAAI;QAErC,wBAAwB;QACxB,MAAM,OAAO,WAAW;QACxB,MAAM,kBAAkB,sBAAsB;QAE9C,OAAO,SAAS,IAAI,CAClB;YACE,SAAS;YACT,MAAM;gBACJ;gBACA;YAEF;QACF,GACA;YAAE,SAAS;gBAAE,iBAAiB;YAAe;QAAE;IAEnD,EAAE,OAAO,OAAO;QACd,OAAO,SAAS,IAAI,CAClB;YACE,SAAS;YACT,OAAO,AAAC,MAAgB,OAAO;QACjC,GACA;YAAE,QAAQ;QAAI;IAElB;AACF"}}]
}