{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 190, "column": 0}, "map": {"version":3,"sources":["file:///D:/1ky-1-nam-4/frontend_cuoiky/frontend_backend_news/src/app/api/get-category/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from 'next/server';\r\nimport * as cheerio from 'cheerio';\r\nimport { Article } from '../bongdaplus/types';\r\n\r\n// Headers để tránh lỗi CORS\r\nconst corsHeaders = {\r\n  'Access-Control-Allow-Origin': '*',\r\n  'Access-Control-Allow-Methods': 'GET, OPTIONS',\r\n  'Access-Control-Allow-Headers': 'Content-Type, Authorization',\r\n};\r\n\r\nexport async function GET(request: NextRequest) {\r\n  // 1. Lấy slug từ URL (ví dụ: ?slug=v-league)\r\n  //const searchParams = request.nextUrl.searchParams;\r\n // const slug = searchParams.get('slug');\r\n  //if (!slug) {\r\n    //return NextResponse.json(\r\n    //  { success: false, message: 'Thiếu slug' },\r\n   //   { status: 400, headers: corsHeaders }\r\n   // );\r\n // }\r\n\r\n  const urlToScrape = `https://bongdaplus.vn/bong-da-viet-nam`;\r\n\r\n  console.log(`Đang cào dữ liệu từ: ${urlToScrape}`);\r\nconst res = await fetch(urlToScrape, {\r\n      headers: { 'User-Agent': 'Mozilla/5.0 (compatible; MyScraper)' },\r\n    });\r\n\r\n    if (!res.ok) throw new Error('Không thể truy cập trang đích');\r\n  const html = await res.text();\r\n    const $ = cheerio.load(html);\r\n\r\n    const articles: Article[] = []\r\n\r\n    $('.cat-news').each((i, el) => {\r\n        console.log(`--- Tin tức thứ ${i + 1} ---`);\r\n        console.log($.html(el));\r\n    })\r\n}"],"names":[],"mappings":";;;;AACA;AAAA;;AAGA,4BAA4B;AAC5B,MAAM,cAAc;IAClB,+BAA+B;IAC/B,gCAAgC;IAChC,gCAAgC;AAClC;AAEO,eAAe,IAAI,OAAoB;IAC5C,6CAA6C;IAC7C,oDAAoD;IACrD,yCAAyC;IACxC,cAAc;IACZ,2BAA2B;IAC3B,8CAA8C;IAC/C,0CAA0C;IAC1C,KAAK;IACP,IAAI;IAEH,MAAM,cAAc,CAAC,sCAAsC,CAAC;IAE5D,QAAQ,GAAG,CAAC,CAAC,qBAAqB,EAAE,aAAa;IACnD,MAAM,MAAM,MAAM,MAAM,aAAa;QAC/B,SAAS;YAAE,cAAc;QAAsC;IACjE;IAEA,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM;IAC/B,MAAM,OAAO,MAAM,IAAI,IAAI;IACzB,MAAM,IAAI,0LAAY,CAAC;IAEvB,MAAM,WAAsB,EAAE;IAE9B,EAAE,aAAa,IAAI,CAAC,CAAC,GAAG;QACpB,QAAQ,GAAG,CAAC,CAAC,gBAAgB,EAAE,IAAI,EAAE,IAAI,CAAC;QAC1C,QAAQ,GAAG,CAAC,EAAE,IAAI,CAAC;IACvB;AACJ"}}]
}