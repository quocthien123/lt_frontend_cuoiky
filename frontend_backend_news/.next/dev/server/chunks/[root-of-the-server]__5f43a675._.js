module.exports = [
"[externals]/next/dist/compiled/next-server/app-route-turbo.runtime.dev.js [external] (next/dist/compiled/next-server/app-route-turbo.runtime.dev.js, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("next/dist/compiled/next-server/app-route-turbo.runtime.dev.js", () => require("next/dist/compiled/next-server/app-route-turbo.runtime.dev.js"));

module.exports = mod;
}),
"[externals]/next/dist/compiled/@opentelemetry/api [external] (next/dist/compiled/@opentelemetry/api, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("next/dist/compiled/@opentelemetry/api", () => require("next/dist/compiled/@opentelemetry/api"));

module.exports = mod;
}),
"[externals]/next/dist/compiled/next-server/app-page-turbo.runtime.dev.js [external] (next/dist/compiled/next-server/app-page-turbo.runtime.dev.js, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("next/dist/compiled/next-server/app-page-turbo.runtime.dev.js", () => require("next/dist/compiled/next-server/app-page-turbo.runtime.dev.js"));

module.exports = mod;
}),
"[externals]/next/dist/server/app-render/work-unit-async-storage.external.js [external] (next/dist/server/app-render/work-unit-async-storage.external.js, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("next/dist/server/app-render/work-unit-async-storage.external.js", () => require("next/dist/server/app-render/work-unit-async-storage.external.js"));

module.exports = mod;
}),
"[externals]/next/dist/server/app-render/work-async-storage.external.js [external] (next/dist/server/app-render/work-async-storage.external.js, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("next/dist/server/app-render/work-async-storage.external.js", () => require("next/dist/server/app-render/work-async-storage.external.js"));

module.exports = mod;
}),
"[externals]/next/dist/shared/lib/no-fallback-error.external.js [external] (next/dist/shared/lib/no-fallback-error.external.js, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("next/dist/shared/lib/no-fallback-error.external.js", () => require("next/dist/shared/lib/no-fallback-error.external.js"));

module.exports = mod;
}),
"[externals]/node:stream [external] (node:stream, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("node:stream", () => require("node:stream"));

module.exports = mod;
}),
"[externals]/buffer [external] (buffer, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("buffer", () => require("buffer"));

module.exports = mod;
}),
"[externals]/string_decoder [external] (string_decoder, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("string_decoder", () => require("string_decoder"));

module.exports = mod;
}),
"[externals]/stream [external] (stream, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("stream", () => require("stream"));

module.exports = mod;
}),
"[externals]/node:assert [external] (node:assert, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("node:assert", () => require("node:assert"));

module.exports = mod;
}),
"[externals]/node:net [external] (node:net, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("node:net", () => require("node:net"));

module.exports = mod;
}),
"[externals]/node:http [external] (node:http, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("node:http", () => require("node:http"));

module.exports = mod;
}),
"[externals]/node:querystring [external] (node:querystring, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("node:querystring", () => require("node:querystring"));

module.exports = mod;
}),
"[externals]/node:events [external] (node:events, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("node:events", () => require("node:events"));

module.exports = mod;
}),
"[externals]/node:diagnostics_channel [external] (node:diagnostics_channel, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("node:diagnostics_channel", () => require("node:diagnostics_channel"));

module.exports = mod;
}),
"[externals]/node:util [external] (node:util, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("node:util", () => require("node:util"));

module.exports = mod;
}),
"[externals]/node:tls [external] (node:tls, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("node:tls", () => require("node:tls"));

module.exports = mod;
}),
"[externals]/node:buffer [external] (node:buffer, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("node:buffer", () => require("node:buffer"));

module.exports = mod;
}),
"[externals]/node:zlib [external] (node:zlib, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("node:zlib", () => require("node:zlib"));

module.exports = mod;
}),
"[externals]/node:perf_hooks [external] (node:perf_hooks, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("node:perf_hooks", () => require("node:perf_hooks"));

module.exports = mod;
}),
"[externals]/node:util/types [external] (node:util/types, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("node:util/types", () => require("node:util/types"));

module.exports = mod;
}),
"[externals]/node:worker_threads [external] (node:worker_threads, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("node:worker_threads", () => require("node:worker_threads"));

module.exports = mod;
}),
"[externals]/node:crypto [external] (node:crypto, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("node:crypto", () => require("node:crypto"));

module.exports = mod;
}),
"[externals]/node:http2 [external] (node:http2, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("node:http2", () => require("node:http2"));

module.exports = mod;
}),
"[externals]/node:async_hooks [external] (node:async_hooks, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("node:async_hooks", () => require("node:async_hooks"));

module.exports = mod;
}),
"[externals]/node:console [external] (node:console, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("node:console", () => require("node:console"));

module.exports = mod;
}),
"[externals]/node:fs/promises [external] (node:fs/promises, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("node:fs/promises", () => require("node:fs/promises"));

module.exports = mod;
}),
"[externals]/node:path [external] (node:path, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("node:path", () => require("node:path"));

module.exports = mod;
}),
"[externals]/node:timers [external] (node:timers, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("node:timers", () => require("node:timers"));

module.exports = mod;
}),
"[externals]/node:dns [external] (node:dns, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("node:dns", () => require("node:dns"));

module.exports = mod;
}),
"[project]/src/app/api/bongdaplus/scrapers/news.ts [app-route] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "scrapeNews",
    ()=>scrapeNews
]);
function scrapeNews($) {
    const newsList = [];
    $('ul.lst li.news').each((i, el)=>{
        const $item = $(el);
        const $titleAnchor = $item.find('a.title');
        // 2. Lấy link và tiêu đề
        const title = $titleAnchor.text().trim();
        const href = $titleAnchor.attr('href') ? $titleAnchor.attr('href').trim() : '';
        // 3. Lấy ảnh (nếu có) từ thẻ .thumb
        const imageUrl = $item.find('.thumb img').attr('src') || '';
        // Kiểm tra nếu có tiêu đề và link thì mới đẩy vào kết quả
        if (title && href) {
            const parts = href.split('/').filter(Boolean);
            const category = parts[0] || '';
            const root = '/' + (parts[0] || '');
            newsList.push({
                title: title,
                link: href,
                imageUrl: imageUrl,
                category: category,
                root: root
            });
        }
    });
    return newsList;
}
}),
"[externals]/util [external] (util, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("util", () => require("util"));

module.exports = mod;
}),
"[externals]/path [external] (path, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("path", () => require("path"));

module.exports = mod;
}),
"[externals]/http [external] (http, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("http", () => require("http"));

module.exports = mod;
}),
"[externals]/https [external] (https, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("https", () => require("https"));

module.exports = mod;
}),
"[externals]/url [external] (url, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("url", () => require("url"));

module.exports = mod;
}),
"[externals]/fs [external] (fs, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("fs", () => require("fs"));

module.exports = mod;
}),
"[externals]/crypto [external] (crypto, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("crypto", () => require("crypto"));

module.exports = mod;
}),
"[externals]/http2 [external] (http2, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("http2", () => require("http2"));

module.exports = mod;
}),
"[externals]/assert [external] (assert, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("assert", () => require("assert"));

module.exports = mod;
}),
"[externals]/zlib [external] (zlib, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("zlib", () => require("zlib"));

module.exports = mod;
}),
"[externals]/events [external] (events, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("events", () => require("events"));

module.exports = mod;
}),
"[project]/src/app/api/bongdaplus/scrapers/pupSchedule.ts [app-route] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "fetchUpcomingMatches",
    ()=>fetchUpcomingMatches
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$axios$2f$lib$2f$axios$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/axios/lib/axios.js [app-route] (ecmascript)");
;
// Giả định bạn đã có URL đầy đủ từ bước 1
const JSON_URL = `https://data.bongdaplus.vn/data/top-list-matches.json?_=${Date.now()}`;
console.log(JSON_URL);
async function fetchUpcomingMatches() {
    try {
        const response = await __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$axios$2f$lib$2f$axios$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["default"].get(JSON_URL);
        // Dữ liệu trả về đã là một mảng các trận đấu
        const rawData = response.data;
        // console.log('rawdata:', JSON.stringify(rawData, null, 2));
        const matches = rawData.map((item)=>({
                link: `https://bongdaplus.vn${item.href || ''}`,
                starttime: item.start_time || '',
                homeTeam: {
                    name: item.home_name || 'Unknown',
                    logo: `https://bongdaplus.vn${item.home_logo}` || ''
                },
                awayTeam: {
                    name: item.away_name || 'Unknown',
                    logo: `https://bongdaplus.vn${item.away_logo}` || ''
                }
            }));
        return matches;
    } catch (error) {
        console.error('Lỗi khi tải file JSON:', error);
    }
}
fetchUpcomingMatches();
}),
"[project]/src/app/api/bongdaplus/scrapers/Article.ts [app-route] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "scrapeArticle",
    ()=>scrapeArticle
]);
function scrapeArticle($) {
    const articleList = [];
    $('div.menu-side > ul.bar-w > li').each((i, el)=>{
        const $item = $(el);
        //    console.log(`Nội dung thô của li thứ ${i}:`, $(el).text().trim());
        const $titleAnchor = $item.find('> a');
        const category = $titleAnchor.text();
        //    console.log(`Đang quét Menu Cha: ${category}`);
        const href = $titleAnchor.attr('href') || '';
        const subArticleList = [];
        const $dropDown = $item.find('div.drop-down');
        if ($dropDown.length > 0) {
            const $subItems = $item.find('ul.lst li a');
            //    console.log($subItems.text())
            $subItems.each((subIdx, subEl)=>{
                const $subAnchor = $(subEl);
                const subTitle = $subAnchor.attr('title') || $subAnchor.text().trim();
                const subHref = $subAnchor.attr('href') || '';
                if (subTitle) {
                    subArticleList.push({
                        child_title: subTitle,
                        child_source_link: `https://bongdaplus.vn${subHref}`
                    });
                }
            });
        }
        if (category) {
            articleList.push({
                source_Link: `https://bongdaplus.vn${href}`,
                title: category,
                child_Article: subArticleList
            });
        }
    });
    return articleList;
}
}),
"[project]/src/app/api/bongdaplus/scrapers/Ranking.ts [app-route] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "fetchLeagueRanking",
    ()=>fetchLeagueRanking
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$axios$2f$lib$2f$axios$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/axios/lib/axios.js [app-route] (ecmascript)");
;
const LEAGUES = [
    {
        id: 'premier-league',
        name: 'Ngoại Hạng Anh',
        url: `https://data.bongdaplus.vn/data/bong-da-anh-rankings.json?_=${Date.now()}`
    },
    {
        id: 'la-liga',
        name: 'Tây Ban Nha',
        url: `https://data.bongdaplus.vn/data/bong-da-tay-ban-nha-rankings.json?_=${Date.now()}`
    },
    {
        id: 'v-league',
        name: 'V-League',
        url: `https://data.bongdaplus.vn/data/bong-da-viet-nam-rankings.json?_=${Date.now()}`
    },
    {
        id: 'bundesliga',
        name: 'Đức',
        url: `https://data.bongdaplus.vn/data/bong-da-duc-rankings.json?_=${Date.now()}`
    },
    {
        id: 'league-1',
        name: 'Pháp',
        url: `https://data.bongdaplus.vn/data/bong-da-phap-rankings.json?_=${Date.now()}`
    },
    {
        id: 'serie-A',
        name: 'Ý',
        url: `https://data.bongdaplus.vn/data/bong-da-y-rankings.json?_=${Date.now()}`
    }
];
async function fetchLeagueRanking() {
    let leagueName = '';
    try {
        // 2. Tạo danh sách các lời hứa (Promises)
        const requests = LEAGUES.map(async (league)=>{
            const response = await __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$axios$2f$lib$2f$axios$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["default"].get(league.url);
            leagueName = league.name;
            const rawData = response.data;
            const dataMap = rawData.ranks;
            console.log(dataMap);
            const standings = dataMap.map((item)=>({
                    nameTeam: item.team_name || '',
                    teamLogo: `https://bongdaplus.vn${item.team_logo}` || '',
                    rank: item.position || '',
                    matches: item.matches || '',
                    win: item.wins || '',
                    losses: item.losses || '',
                    draws: item.draws || '',
                    ghiban: item.scores_for || '',
                    thung_luoi: item.scores_against || '',
                    hieu_so: item.scores_diff || '',
                    point: item.point || ''
                }));
            return {
                league_name: league.id,
                league_nation: league.name,
                standings: standings
            };
        });
        const finalData = await Promise.all(requests);
        return finalData;
    } catch (error) {
        console.error("Lỗi hệ thống:", error);
        console.log("lỗi nằm ở league: ", leagueName);
        return [];
    }
}
}),
"[project]/src/app/api/bongdaplus/route.ts [app-route] (ecmascript)", ((__turbopack_context__) => {
"use strict";

// src/app/api/bongdaplus/route.ts
__turbopack_context__.s([
    "GET",
    ()=>GET
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$cheerio$2f$dist$2f$esm$2f$index$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/cheerio/dist/esm/index.js [app-route] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$cheerio$2f$dist$2f$esm$2f$load$2d$parse$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/cheerio/dist/esm/load-parse.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$app$2f$api$2f$bongdaplus$2f$scrapers$2f$news$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/app/api/bongdaplus/scrapers/news.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$app$2f$api$2f$bongdaplus$2f$scrapers$2f$pupSchedule$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/app/api/bongdaplus/scrapers/pupSchedule.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$app$2f$api$2f$bongdaplus$2f$scrapers$2f$Article$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/app/api/bongdaplus/scrapers/Article.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$app$2f$api$2f$bongdaplus$2f$scrapers$2f$Ranking$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/app/api/bongdaplus/scrapers/Ranking.ts [app-route] (ecmascript)");
;
;
;
;
;
async function GET(request) {
    try {
        const res = await fetch('https://bongdaplus.vn', {
            headers: {
                'User-Agent': 'Mozilla/5.0 (compatible; BongDaPlus Scraper)'
            }
        });
        if (!res.ok) throw new Error(`Fetch failed: ${res.status}`);
        const $ = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$cheerio$2f$dist$2f$esm$2f$load$2d$parse$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["load"](await res.text());
        // Lấy từng loại dữ liệu
        const news = (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$app$2f$api$2f$bongdaplus$2f$scrapers$2f$news$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["scrapeNews"])($);
        const upcomingMatches = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$app$2f$api$2f$bongdaplus$2f$scrapers$2f$pupSchedule$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["fetchUpcomingMatches"])();
        const article = (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$app$2f$api$2f$bongdaplus$2f$scrapers$2f$Article$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["scrapeArticle"])($);
        const standing = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$app$2f$api$2f$bongdaplus$2f$scrapers$2f$Ranking$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["fetchLeagueRanking"])();
        return Response.json({
            success: true,
            data: {
                article,
                news,
                upcomingMatches,
                standing
            }
        }, {
            headers: {
                'Cache-Control': 's-maxage=600'
            }
        });
    } catch (error) {
        return Response.json({
            success: false,
            error: error.message
        }, {
            status: 500
        });
    }
}
}),
];

//# sourceMappingURL=%5Broot-of-the-server%5D__5f43a675._.js.map